<html><head><base href="https://visa-mobile-banking.com/"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>VISA Mobile Banking</title><style>
    body, html {
        margin: 0;
        padding: 0;
        font-family: 'Roboto', sans-serif;
        background-color: #f0f0f0;
        color: #333;
        height: 100%;
    }
    .app-container {
        max-width: 400px;
        margin: 0 auto;
        background-color: white;
        min-height: 100vh;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
        position: relative;
        overflow: hidden;
    }
    .header {
        background-color: #1A1F71;
        color: white;
        padding: 15px;
        text-align: center;
        position: relative;
    }
    .header-title {
        margin: 0;
        font-size: 18px;
        font-weight: bold;
    }
    .date-time {
        font-size: 12px;
        margin-top: 5px;
    }
    .main-content {
        padding: 20px;
        padding-bottom: 120px; /* Add extra padding at the bottom */
        position: relative;
        z-index: 10; /* Ensure main content is above the wave */
    }
    .card-container {
        background-color: #F1F8FF;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
    }
    .card-image {
        width: 100%;
        height: auto;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .card-holder {
        text-align: center;
        font-size: 18px;
        margin-top: 10px;
        color: #1A1F71;
    }
    .balance-info {
        background-color: white;
        border-radius: 10px;
        padding: 15px;
        margin-top: 20px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .balance-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
    }
    .balance-label {
        color: #666;
    }
    .balance-amount {
        font-weight: bold;
        color: #1A1F71;
    }
    .transactions {
        margin-top: 20px;
    }
    .transaction-title {
        font-size: 16px;
        color: #1A1F71;
        margin-bottom: 10px;
    }
    .transaction-list {
        background-color: white;
        border-radius: 10px;
        padding: 10px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .transaction-item {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
        border-bottom: 1px solid #E5E5E5;
    }
    .transaction-item:last-child {
        border-bottom: none;
    }
    .transaction-info {
        flex-grow: 1;
    }
    .transaction-description {
        font-size: 14px;
        color: #333;
    }
    .transaction-date {
        font-size: 12px;
        color: #666;
    }
    .transaction-amount {
        font-weight: bold;
        color: #1A1F71;
    }
    .setup-form, .login-form {
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        max-width: 300px; 
        margin: 0 auto; 
        position: relative;
        z-index: 10;
        padding-bottom: 120px; /* Add extra padding at the bottom */
    }
    .form-group {
        margin-bottom: 15px;
        width: 100%;
        padding: 0 20px; 
        box-sizing: border-box; 
    }
    .form-group input, .form-group textarea {
        width: 100%;
        max-width: 260px; 
        padding: 12px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 16px;
        margin: 0 auto; 
        display: block; 
    }
    .submit-btn {
        background-color: #1A1F71;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s;
        margin-top: 20px;
        width: 100%;
        max-width: 260px;
    }
    .submit-btn:hover {
        background-color: #0F1A4F;
    }
    .visa-logo {
        width: 80px;
        margin-bottom: 20px;
    }
    .wave {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 100px;
        background: url('data:image/svg+xml;utf8,<svg viewBox="0 0 1440 320" xmlns="http://www.w3.org/2000/svg"><path fill="%231A1F71" fill-opacity="1" d="M0,32L48,53.3C96,75,192,117,288,138.7C384,160,480,160,576,138.7C672,117,768,75,864,80C960,85,1056,139,1152,154.7C1248,171,1344,149,1392,138.7L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
        background-size: cover;
        background-repeat: no-repeat;
        z-index: 5; /* Ensure the wave stays behind other content */
    }
    .error-message {
        background-color: #FFF0F0;
        border: 1px solid #FFD7D7;
        color: #D8000C;
        padding: 10px;
        margin-bottom: 20px;
        border-radius: 4px;
        text-align: center;
    }
</style></head><body><div class="app-container">
    <div id="loginForm" class="login-form">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg" alt="VISA Logo" class="visa-logo">
        <div class="form-group">
            <label for="username">Usuario:</label>
            <input type="text" id="username" required>
        </div>
        <div class="form-group">
            <label for="password">Contraseña:</label>
            <input type="password" id="password" required>
        </div>
        <button type="submit" class="submit-btn" id="loginBtn">Iniciar Sesión</button>
        <div id="errorMessage" class="error-message" style="display: none;">
            Usuario o contraseña incorrectos. Por favor, intente nuevamente.
        </div>
    </div>

    <div id="setupForm" class="setup-form" style="display: none;">
        <h2>Configuración Inicial</h2>
        <div class="form-group">
            <label for="entityName">Nombre de la entidad financiera:</label>
            <input type="text" id="entityName" required>
        </div>
        <div class="form-group">
            <label for="cardImage">Imagen de la tarjeta de crédito:</label>
            <input type="file" id="cardImage" accept="image/*" required>
        </div>
        <div class="form-group">
            <label for="cardHolder">Nombre del propietario:</label>
            <input type="text" id="cardHolder" required>
        </div>
        <div class="form-group">
            <label for="balance">Saldo actual:</label>
            <input type="number" id="balance" required>
        </div>
        <div class="form-group">
            <label for="availableCredit">Cupo disponible:</label>
            <input type="number" id="availableCredit" required>
        </div>
        <div class="form-group">
            <label>Últimos 3 movimientos:</label>
            <div id="transactionsInput">
                <div class="transaction-input">
                    <input type="date" class="transaction-date" required>
                    <input type="text" class="transaction-description" placeholder="Descripción" required>
                    <input type="number" class="transaction-amount" placeholder="Monto" required>
                </div>
                <div class="transaction-input">
                    <input type="date" class="transaction-date" required>
                    <input type="text" class="transaction-description" placeholder="Descripción" required>
                    <input type="number" class="transaction-amount" placeholder="Monto" required>
                </div>
                <div class="transaction-input">
                    <input type="date" class="transaction-date" required>
                    <input type="text" class="transaction-description" placeholder="Descripción" required>
                    <input type="number" class="transaction-amount" placeholder="Monto" required>
                </div>
            </div>
        </div>
        <button type="submit" class="submit-btn" id="submitBtn">Guardar información</button>
    </div>

    <header class="header" style="display: none;">
        <h1 class="header-title" id="entityNameDisplay">VISA BANCA MÓVIL</h1>
        <div class="date-time" id="dateTime"></div>
    </header>

    <div class="main-content" id="mainContent" style="display:none;">
        <div class="card-container">
            <img id="cardImageDisplay" alt="Tarjeta de crédito VISA" class="card-image">
            <p class="card-holder" id="cardHolderDisplay"></p>
            
            <div class="balance-info">
                <div class="balance-row">
                    <span class="balance-label">Saldo actual</span>
                    <span class="balance-amount" id="balanceDisplay"></span>
                </div>
                <div class="balance-row">
                    <span class="balance-label">Cupo disponible</span>
                    <span class="balance-amount" id="availableCreditDisplay"></span>
                </div>
            </div>
        </div>
        
        <div class="transactions">
            <h2 class="transaction-title">Últimos movimientos</h2>
            <div class="transaction-list" id="transactionList">
                <!-- Transactions will be inserted here -->
            </div>
        </div>
    </div>
    <div class="wave"></div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const loginForm = document.getElementById('loginForm');
    const setupForm = document.getElementById('setupForm');
    const mainContent = document.getElementById('mainContent');
    const dateTimeElement = document.getElementById('dateTime');
    const loginBtn = document.getElementById('loginBtn');
    const submitBtn = document.getElementById('submitBtn');
    const headerElement = document.querySelector('.header');
    const errorMessage = document.getElementById('errorMessage');

    const correctUsername = 'Juanito2024';
    const correctPassword = 'Visa2024';

    function updateDateTime() {
        const now = new Date();
        const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' };
        dateTimeElement.textContent = now.toLocaleDateString('es-CR', options);
    }

    updateDateTime();
    setInterval(updateDateTime, 60000); // Update every minute

    loginBtn.addEventListener('click', function(e) {
        e.preventDefault();
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;

        if (username === correctUsername && password === correctPassword) {
            errorMessage.style.display = 'none';
            if (localStorage.getItem('setupComplete')) {
                showMainContent();
            } else {
                showSetupForm();
            }
        } else {
            errorMessage.style.display = 'block';
        }
    });

    submitBtn.addEventListener('click', function(e) {
        e.preventDefault();
        const entityName = document.getElementById('entityName').value;
        const cardHolder = document.getElementById('cardHolder').value;
        const balance = document.getElementById('balance').value;
        const availableCredit = document.getElementById('availableCredit').value;
        
        const transactions = [];
        document.querySelectorAll('.transaction-input').forEach(input => {
            transactions.push({
                date: input.querySelector('.transaction-date').value,
                description: input.querySelector('.transaction-description').value,
                amount: input.querySelector('.transaction-amount').value
            });
        });

        const cardImageFile = document.getElementById('cardImage').files[0];
        const reader = new FileReader();
        reader.onloadend = function() {
            const userData = {
                entityName,
                cardHolder,
                balance,
                availableCredit,
                transactions,
                cardImageSrc: reader.result
            };
            localStorage.setItem('userData', JSON.stringify(userData));
            localStorage.setItem('setupComplete', 'true');
            displayMainContent(userData);
        }
        if (cardImageFile) {
            reader.readAsDataURL(cardImageFile);
        } else {
            displayMainContent({entityName, cardHolder, balance, availableCredit, transactions, cardImageSrc: ''});
        }
    });

    function showSetupForm() {
        loginForm.style.display = 'none';
        setupForm.style.display = 'flex';
    }

    function showMainContent() {
        const userData = JSON.parse(localStorage.getItem('userData'));
        if (userData) {
            displayMainContent(userData);
        } else {
            showSetupForm();
        }
    }

    function displayMainContent(userData) {
        loginForm.style.display = 'none';
        setupForm.style.display = 'none';
        headerElement.style.display = 'block';
        mainContent.style.display = 'block';

        document.getElementById('entityNameDisplay').textContent = userData.entityName;
        document.getElementById('cardImageDisplay').src = userData.cardImageSrc || 'placeholder.jpg';
        document.getElementById('cardHolderDisplay').textContent = userData.cardHolder;
        document.getElementById('balanceDisplay').textContent = '$' + userData.balance;
        document.getElementById('availableCreditDisplay').textContent = '$' + userData.availableCredit;

        const transactionList = document.getElementById('transactionList');
        transactionList.innerHTML = '';
        userData.transactions.forEach(transaction => {
            const transactionItem = document.createElement('div');
            transactionItem.className = 'transaction-item';
            transactionItem.innerHTML = `
                <div class="transaction-info">
                    <div class="transaction-description">${transaction.description}</div>
                    <div class="transaction-date">${transaction.date}</div>
                </div>
                <div class="transaction-amount">$${transaction.amount}</div>
            `;
            transactionList.appendChild(transactionItem);
        });
    }

    loginForm.style.display = 'flex';
    setupForm.style.display = 'none';
    mainContent.style.display = 'none';
    headerElement.style.display = 'none';
});
</script></body></html>